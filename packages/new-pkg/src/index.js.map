{"version":3,"sources":["../src/index.js"],"names":["dir2pkg","inFolder","outFolder","pkgJsonName","pkgJsonPath","ignore","progress","pattern","path","join","filePathList","dependencies","pkgJsonContent","name","private","license","fs","writeFile","JSON","stringify","readmeContent"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;;;AAEe,eAAeA,OAAf,CACbC,QADa,EAEbC,SAFa,EAGb;AAAEC,EAAAA,WAAF;AAAeC,EAAAA,WAAf;AAA4BC,EAAAA,MAAM,GAAG,EAArC;AAAyCC,EAAAA;AAAzC,IAAsD,EAHzC,EAIb;AACAA,EAAAA,QAAQ,CAAC,yBAAD,CAAR;;AACA,QAAMC,OAAO,GAAGC,cAAKC,IAAL,CAAUR,QAAV,EAAoB,uBAApB,CAAhB;;AACA,QAAMS,YAAY,GAAG,MAAM,qBAAOH,OAAP,CAA3B;AACA,QAAMI,YAAY,GAAG,MAAM,2BAAaD,YAAb,EAA2BN,WAA3B,EAAwC;AAAEC,IAAAA;AAAF,GAAxC,CAA3B;AAEAC,EAAAA,QAAQ,CAAC,kBAAD,CAAR;AACA,QAAM,uBAASL,QAAT,EAAmBO,cAAKC,IAAL,CAAUP,SAAV,EAAqB,KAArB,CAAnB,CAAN;AAEAI,EAAAA,QAAQ,CAAC,uBAAD,CAAR;AACA,QAAMM,cAAc,GAAG;AACrBC,IAAAA,IAAI,EAAEV,WADe;AAErBW,IAAAA,OAAO,EAAE,IAFY;AAGrBC,IAAAA,OAAO,EAAE,YAHY;AAIrBJ,IAAAA;AAJqB,GAAvB;AAMA,QAAMK,kBAAGC,SAAH,CACJT,cAAKC,IAAL,CAAUP,SAAV,EAAqB,cAArB,CADI,EAEJgB,IAAI,CAACC,SAAL,CAAeP,cAAf,EAA+B,IAA/B,EAAqC,IAArC,CAFI,CAAN;AAKAN,EAAAA,QAAQ,CAAC,oBAAD,CAAR;AACA,QAAMc,aAAa,GAAI,KAAIjB,WAAY;AACzC,CADE;AAEA,QAAMa,kBAAGC,SAAH,CAAaT,cAAKC,IAAL,CAAUP,SAAV,EAAqB,WAArB,CAAb,EAAgDkB,aAAhD,CAAN;AACD","sourcesContent":["import moveFile from 'move-file';\nimport globby from 'globby';\nimport path from 'path';\nimport fs from 'fs/promises';\nimport generateDeps from './generate-deps';\n\nexport default async function dir2pkg(\n  inFolder,\n  outFolder,\n  { pkgJsonName, pkgJsonPath, ignore = [], progress } = {}\n) {\n  progress('Generating dependencies');\n  const pattern = path.join(inFolder, '/**/*.{js,jsx,ts,tsx}');\n  const filePathList = await globby(pattern);\n  const dependencies = await generateDeps(filePathList, pkgJsonPath, { ignore });\n\n  progress('Moving directory');\n  await moveFile(inFolder, path.join(outFolder, 'src'));\n\n  progress('Creating package.json');\n  const pkgJsonContent = {\n    name: pkgJsonName,\n    private: true,\n    license: 'UNLICENSED',\n    dependencies,\n  };\n  await fs.writeFile(\n    path.join(outFolder, 'package.json'),\n    JSON.stringify(pkgJsonContent, null, '  ')\n  );\n\n  progress('Creating README.md');\n  const readmeContent = `# ${pkgJsonName}\n`;\n  await fs.writeFile(path.join(outFolder, 'README.md'), readmeContent);\n}\n"],"file":"index.js"}